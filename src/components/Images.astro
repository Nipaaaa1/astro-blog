---
import { cn } from "@lib/utils";
import { Image } from "astro:assets";

interface Props {
  src: string
  alt: string
  loading?: "eager" | "lazy"
  className?: string
}

const { src, alt, loading = "lazy", className = "" } = Astro.props;

const isProd = import.meta.env.PROD;
---

<Image transition:persist src={isProd ? src : "/placeholder.jpg"} alt={alt} class={cn(["rounded-md brutalism w-full", className])} loading={loading} fetchpriority={loading === "eager" ? "high" : "auto"} width={480} height={270} inferSize />
